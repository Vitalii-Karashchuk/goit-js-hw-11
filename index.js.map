{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n// import {fetchOption, urlParams, searchApi} from './js/pixabay-api.js'; \n\nconst formEl = document.querySelector('.search-form');\nconst listItemsEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\n\n \nconst handleClick = event => {\n    event.preventDefault();\n    // loader start\n    \n    const searchData = event.currentTarget.elements.user_query.value.trim();\n    \n    if(searchData === ''){\n       alert('Поле пошуку порожнє, заповніть поле пошуку!');\n      return;\n    };\n     \n    const fetchOption = {\n            key: \"48272938-5d16b358faf0ec3baa9736196\",\n            q: `${searchData}`,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        };\n\n        const urlParams = new URLSearchParams(fetchOption);\n\n    fetch(`https://pixabay.com/api/?${urlParams}`)\n\n        .then(responce => {\n        if(!responce.ok){\n           \n            throw new Error(responce.status );\n        };\n\n            return responce.json();\n    })\n            .then(img => {\n            if (img.total === 0) {\n                iziToast.error({ \n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'center',\n                 }); \n                 \n                 listItemsEl.innerHTML = '';\n\n                 formEl.reset();\n            };                   \n\n                formEl.reset();\n           \n            const cardImg = img.hits.map(imgs => {\n                return `\n                <a href=\"${imgs.largeImageURL}\">\n                    <li class=\"gallary-card\">\n                        <img class=\"gallary-img\" src=\"${imgs.webformatURL}\" alt=\"\"> </img>\n                        <p> Likes ${imgs.likes}</p>\n                        <p> Views ${imgs.views}</p>\n                        <p> Comments ${imgs.comments}</p>\n                        <p> Downloads ${imgs.downloads}</p>\n                    </li>\n                </a>`\n             }).join();\n\n            listItemsEl.innerHTML = cardImg;\n            \n            // loader end\n\n            let gallery = new SimpleLightbox('.gallery a');\n            gallery.refresh();\n            \n            return;\n        })\n        .catch(err => {\n           \n        });\n}\n\n    formEl.addEventListener('submit', handleClick);\n\n\n"],"names":["formEl","listItemsEl","handleClick","event","searchData","fetchOption","urlParams","responce","img","iziToast","cardImg","imgs","SimpleLightbox","err"],"mappings":"6vBAcA,MAAMA,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAc,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,SAAS,EAIjD,MAAMC,EAAcC,GAAS,CACzBA,EAAM,eAAc,EAGpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEjE,GAAGC,IAAe,GAAG,CAClB,MAAM,6CAA6C,EACpD,MAEN,CACI,MAAMC,EAAc,CACZ,IAAK,qCACL,EAAG,GAAGD,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,EACxB,EAEcE,EAAY,IAAI,gBAAgBD,CAAW,EAErD,MAAM,4BAA4BC,CAAS,EAAE,EAExC,KAAKC,GAAY,CAClB,GAAG,CAACA,EAAS,GAET,MAAM,IAAI,MAAMA,EAAS,QAGzB,OAAOA,EAAS,MAC5B,CAAK,EACQ,KAAKC,GAAO,CACTA,EAAI,QAAU,IACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,QAC9B,CAAkB,EAEDR,EAAY,UAAY,GAExBD,EAAO,MAAK,GAGbA,EAAO,MAAK,EAEhB,MAAMU,EAAUF,EAAI,KAAK,IAAIG,GAClB;AAAA,2BACIA,EAAK,aAAa;AAAA;AAAA,wDAEWA,EAAK,YAAY;AAAA,oCACrCA,EAAK,KAAK;AAAA,oCACVA,EAAK,KAAK;AAAA,uCACPA,EAAK,QAAQ;AAAA,wCACZA,EAAK,SAAS;AAAA;AAAA,qBAGxC,EAAE,KAAI,EAERV,EAAY,UAAYS,EAIV,IAAIE,EAAe,YAAY,EACrC,QAAO,CAG3B,CAAS,EACA,MAAMC,GAAO,CAEtB,CAAS,CACT,EAEIb,EAAO,iBAAiB,SAAUE,CAAW"}