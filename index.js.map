{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport const searchApi = searchData => {\n    const fetchOption = {\n            key: \"48272938-5d16b358faf0ec3baa9736196\",\n            q: `${searchData}`,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        };\n\n        const urlParams = new URLSearchParams(fetchOption);\n\n    return  fetch(`https://pixabay.com/api/?${urlParams}`)\n    \n        .then(responce => {\n            if(!responce.ok){\n               \n                throw new Error(responce.status );\n            };\n    \n           \n            return responce.json();\n        })\n}\n","export const templateCard = (photoCard => {\n    return `\n   <a href=\"${photoCard.largeImageURL}\">\n        <li class=\"gallary-card\">\n            <img class=\"gallary-img\" src=\"${photoCard.webformatURL}\" alt=\"\"> </img>\n            <div class=\"description\">\n                <p>Likes ${photoCard.likes}</p>\n                <p>Views ${photoCard.views}</p>\n                <p>Comments ${photoCard.comments}</p>\n                <p>Downloads ${photoCard.downloads}</p>\n            </div>\n        </li>\n    </a>`;\n});","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nimport {searchApi} from './js/pixabay-api'; \nimport {templateCard} from './js/render-functions';\n\nconst formEl = document.querySelector('.search-form');\nconst listItemsEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nloaderEl.style.display = 'none';\n\nconst handleClick = event => {\n    event.preventDefault();\n    loaderEl.style.display = 'block';\n    \n    const searchData = event.currentTarget.elements.user_query.value.trim();\n    \n    if(searchData === ''){\n        iziToast.show({ \n            title: 'Error',\n            message: 'Поле пошуку порожнє, заповніть поле пошуку!',\n            position: 'center',\n         });\n      \n      return;\n    };\n        \n     searchApi(searchData)\n            .then(img => {\n            if (img.total === 0) {\n                iziToast.error({ \n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'center',\n                 }); \n                 \n                 listItemsEl.innerHTML = '';\n\n                 formEl.reset();\n            };                   \n\n                formEl.reset();\n               \n            const cardImg = img.hits.map(element => templateCard(element)).join('');\n\n            listItemsEl.innerHTML = cardImg;\n            \n            loaderEl.style.display = 'none';\n\n            let gallery = new SimpleLightbox('.gallery a');\n            gallery.refresh();\n            \n            return;\n        })\n        .catch(err => {\n            iziToast.error({ \n                title: 'Error',\n                message: 'Error!',\n                position: 'center',\n             });\n        });\n}\n\n    formEl.addEventListener('submit', handleClick);\n\n\n"],"names":["searchApi","searchData","fetchOption","urlParams","responce","templateCard","photoCard","formEl","listItemsEl","loaderEl","handleClick","event","iziToast","img","cardImg","element","SimpleLightbox","err"],"mappings":"6vBACO,MAAMA,EAAYC,GAAc,CACnC,MAAMC,EAAc,CACZ,IAAK,qCACL,EAAG,GAAGD,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,EACxB,EAEcE,EAAY,IAAI,gBAAgBD,CAAW,EAErD,OAAQ,MAAM,4BAA4BC,CAAS,EAAE,EAEhD,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GAET,MAAM,IAAI,MAAMA,EAAS,QAI7B,OAAOA,EAAS,MAC5B,CAAS,CACT,ECvBaC,EAAgBC,GAClB;AAAA,cACGA,EAAU,aAAa;AAAA;AAAA,4CAEOA,EAAU,YAAY;AAAA;AAAA,2BAEvCA,EAAU,KAAK;AAAA,2BACfA,EAAU,KAAK;AAAA,8BACZA,EAAU,QAAQ;AAAA,+BACjBA,EAAU,SAAS;AAAA;AAAA;AAAA,UCM5CC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAEjDA,EAAS,MAAM,QAAU,OAEzB,MAAMC,EAAcC,GAAS,CACzBA,EAAM,eAAc,EACpBF,EAAS,MAAM,QAAU,QAEzB,MAAMR,EAAaU,EAAM,cAAc,SAAS,WAAW,MAAM,OAEjE,GAAGV,IAAe,GAAG,CACjBW,EAAS,KAAK,CACV,MAAO,QACP,QAAS,8CACT,SAAU,QACtB,CAAU,EAEJ,MAEN,CACKZ,EAAUC,CAAU,EACZ,KAAKY,GAAO,CACTA,EAAI,QAAU,IACdD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,QAC9B,CAAkB,EAEDJ,EAAY,UAAY,GAExBD,EAAO,MAAK,GAGbA,EAAO,MAAK,EAEhB,MAAMO,EAAUD,EAAI,KAAK,IAAIE,GAAWV,EAAaU,CAAO,CAAC,EAAE,KAAK,EAAE,EAEtEP,EAAY,UAAYM,EAExBL,EAAS,MAAM,QAAU,OAEX,IAAIO,EAAe,YAAY,EACrC,QAAO,CAG3B,CAAS,EACA,MAAMC,GAAO,CACVL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,SACT,SAAU,QAC1B,CAAc,CACd,CAAS,CACT,EAEIL,EAAO,iBAAiB,SAAUG,CAAW"}